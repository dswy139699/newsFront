{"remainingRequest":"/Users/yushengnan/ysn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yushengnan/ysn/src/views/solicitManage/studentSolicit/unPayed/index.vue?vue&type=style&index=0&id=0ff1162a&scoped=true&lang=less&","dependencies":[{"path":"/Users/yushengnan/ysn/src/views/solicitManage/studentSolicit/unPayed/index.vue","mtime":1616730870616},{"path":"/Users/yushengnan/ysn/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgQGltcG9ydCAnLi4vLi4vc3R5bGUubGVzcyc7CiAgLmNvbnRlbnR7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBwYWRkaW5nOjIwcHg7CiAgYm9yZGVyLXJhZGl1czoycHg7CiAgLm1vZGFsIHsKICAgIC9kZWVwLyAuYW50LW1vZGFsIHsKICAgICAgd2lkdGg6IDkwMHB4OwogICAgICBtaW4td2lkdGg6IDkwMHB4OwogICAgfQogICAgL2RlZXAvIC5hbnQtYWxlcnQgewogICAgICBwYWRkaW5nOiA1cHggNXB4IDVweCAzNXB4OwogICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIC5hbnQtYWxlcnQtaWNvbiB7CiAgICAgICAgdG9wOiA4cHg7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/solicitManage/studentSolicit/unPayed","sourcesContent":["<template>\r\n  <page-header-wrapper>\r\n    <template v-slot:content>\r\n      <div class=\"page-header-content\">\r\n      </div>\r\n    </template>\r\n    <div class=\"content\">\r\n      <div>\r\n        <GlobalForm :dataSource=\"getFormData\" ref=\"schoolSerch\" id=\"schoolSearch\">\r\n          <template v-slot:button>\r\n            <div style=\"margin-top:4px;text-align: right\">\r\n              <a-button type=\"primary\" @click=\"search\">\r\n                查询\r\n              </a-button>\r\n              <a-button style=\"margin-left:10px\" @click=\"reset\">\r\n                重置\r\n              </a-button>\r\n            </div>\r\n          </template>\r\n        </GlobalForm>\r\n      </div>\r\n      <div class=\"table\" style=\"margin-top:10px;\">\r\n        <a-table\r\n          :columns=\"columns\"\r\n          :data-source=\"data\"\r\n          @change=\"changePage\"\r\n          :loading=\"loading\"\r\n          :pagination=\"pagination\"\r\n          :rowKey=\"record=>record.subscriptionsrecordId\"\r\n        >\r\n          <span slot=\"action\" slot-scope=\"text,data\">\r\n            <a @click=\"onShow(data)\">查看</a>\r\n            <!--<a-divider type=\"vertical\" />-->\r\n            <!--<a-popconfirm-->\r\n            <!--title=\"确定删除?\"-->\r\n            <!--ok-text=\"是\"-->\r\n            <!--cancel-text=\"否\"-->\r\n            <!--@confirm=\"()=>{}\"-->\r\n            <!--&gt;-->\r\n            <!--<a>删除</a>-->\r\n            <!--</a-popconfirm>-->\r\n          </span>\r\n          <!--<template slot=\"footer\" slot-scope=\"\" v-if=\"data&&data.length>0\">-->\r\n          <!--<a-button type=\"primary\">删除所选数据</a-button>-->\r\n          <!--</template>-->\r\n        </a-table>\r\n      </div>\r\n    </div>\r\n  </page-header-wrapper>\r\n</template>\r\n\r\n<script>\r\n  import GlobalForm from '@/components/GlobalForm'\r\n  import { formData } from './formData'\r\n  import { services } from '../service'\r\n\r\n  const columns = [\r\n    {\r\n      title: '学生姓名',\r\n      dataIndex: 'name',\r\n      key: 'name'\r\n    },\r\n    {\r\n      title: '学生学号',\r\n      dataIndex: 'studentNum',\r\n      key: 'studentNum'\r\n    },\r\n    {\r\n      title: '班级',\r\n      dataIndex: 'clazzName',\r\n      key: 'clazzName'\r\n    },\r\n    {\r\n      title: '是否付款',\r\n      dataIndex: 'isPayment',\r\n      key: 'isPayment'\r\n    },\r\n    {\r\n      title: '征订日期',\r\n      dataIndex: 'dayOfPayment',\r\n      key: 'dayOfPayment'\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      scopedSlots: { customRender: 'action' }\r\n    }\r\n  ]\r\n  export default {\r\n    name: 'Index',\r\n    components: {\r\n      GlobalForm\r\n    },\r\n    data () {\r\n      return {\r\n        columns,\r\n        searchData: {},\r\n        loading: true,\r\n        selectedRowKeys: [], // 选中的table数据\r\n        data: [],\r\n        pagination: {// 分页\r\n          current: 1,\r\n          pageSize: 20,\r\n          total: 0\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      getFormData () {\r\n        return formData.getFormData(this)\r\n      }\r\n    },\r\n    created () {\r\n      // this.$store.dispatch('GetSchool')\r\n    },\r\n    mounted () {\r\n      this.searchData = { schoolId: this.$store.getters.selectSchoolInfo.value || '' }\r\n      // this.searchData = { schoolId: this.$store.getters.schoolNameList[0] ? this.$store.getters.schoolNameList[0].value : '' }// 查询数据\r\n      this.getStudent({ pageIndex: this.pagination.current, pageSize: this.pagination.pageSize, ...this.searchData })\r\n    },\r\n    methods: {\r\n      // 分页切换\r\n      changePage (pagination) {\r\n        this.pagination.current = pagination.current\r\n        this.getStudent({ pageIndex: pagination.current, pageSize: this.pagination.pageSize, ...this.searchData })\r\n        // this.getProcessList({ process_label: 'Done', pageIndex: pagination.current, pageSize: this.pagination.pageSize, process_config_type: 'individualCase', ...this.params })\r\n      },\r\n      search () { // 查询\r\n        const params = this.$refs.schoolSerch.getFieldsValue()\r\n        this.searchData = { ...params, schoolId: this.$store.getters.selectSchoolInfo.value || '' }\r\n        this.pagination.current = 1\r\n        this.getStudent({ pageIndex: 1, pageSize: this.pagination.pageSize, ...this.searchData })\r\n      },\r\n      reset () { // 重置\r\n        this.$refs.schoolSerch.resetFields()\r\n        // this.searchData = { schoolId: this.$store.getters.schoolNameList[0] ? this.$store.getters.schoolNameList[0].value : '' }// 查询数据\r\n      },\r\n      onSelectChange (selectedRowKeys) { // table选择\r\n        // console.log('selectedRowKeys changed: ', selectedRowKeys);\r\n        this.selectedRowKeys = selectedRowKeys\r\n      },\r\n      onShow (data) { // 查看已付款学生信息详情\r\n        this.$router.push({ path: '/book/solicitManage/unPayedInfo', query: { id: data.id, name: data.name, studentNum: data.studentNum, clazzName: data.clazzName } })\r\n      },\r\n      getStudent (data) {\r\n        this.loading = true\r\n        services.getStudent({ ...data, isPayment: 0 }).then(response => {\r\n          this.data = response.records || []\r\n          this.pagination.total = response.total || 0\r\n          this.loading = false\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  @import '../../style.less';\r\n  .content{\r\n  background: #fff;\r\n  padding:20px;\r\n  border-radius:2px;\r\n  .modal {\r\n    /deep/ .ant-modal {\r\n      width: 900px;\r\n      min-width: 900px;\r\n    }\r\n    /deep/ .ant-alert {\r\n      padding: 5px 5px 5px 35px;\r\n      font-size: 12px;\r\n      .ant-alert-icon {\r\n        top: 8px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}