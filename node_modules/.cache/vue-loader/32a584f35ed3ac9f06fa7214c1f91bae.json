{"remainingRequest":"/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yushengnan/bysj/ysn/src/components/GlobalHeader/StudentHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yushengnan/bysj/ysn/src/components/GlobalHeader/StudentHeader.vue","mtime":1650686992852},{"path":"/Users/yushengnan/bysj/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBdmF0YXJEcm9wZG93biBmcm9tICcuL0F2YXRhckRyb3Bkb3duJwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcKaW1wb3J0IHsgTW9kYWwgfSBmcm9tICdhbnQtZGVzaWduLXZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmlnaHRDb250ZW50JywKICBjb21wb25lbnRzOiB7CiAgICBBdmF0YXJEcm9wZG93bgogIH0sCiAgcHJvcHM6IHsKICAgIHByZWZpeENsczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdhbnQtcHJvLWdsb2JhbC1oZWFkZXItaW5kZXgtYWN0aW9uJwogICAgfSwKICAgIC8vIGlzTW9iaWxlOiB7CiAgICAvLyAgIHR5cGU6IEJvb2xlYW4sCiAgICAvLyAgIGRlZmF1bHQ6ICgpID0+IGZhbHNlCiAgICAvLyB9LAogICAgdG9wTWVudTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHRoZW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd01lbnU6IHRydWUsCiAgICAgIGN1cnJlbnRVc2VyOiB7fQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyd1c2VySW5mbycsICdzY2hvb2xOYW1lTGlzdCcsICdzZWxlY3RTY2hvb2xJbmZvJywgJ2lzTW9iaWxlJ10pLAogICAgd3JwQ2xzICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnYW50LXByby1nbG9iYWwtaGVhZGVyLWluZGV4LXJpZ2h0JzogdHJ1ZSwKICAgICAgICBbYGFudC1wcm8tZ2xvYmFsLWhlYWRlci1pbmRleC0keyh0aGlzLmlzTW9iaWxlIHx8ICF0aGlzLnRvcE1lbnUpID8gJ2xpZ2h0JyA6IHRoaXMudGhlbWV9YF06IHRydWUKICAgICAgfQogICAgfSwKICAgIGRlZmF1bHRWYWx1ZSAoKSB7CiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zY2hvb2xOYW1lTGlzdFswXSA/IHRoaXMuc2Nob29sTmFtZUxpc3RbMF0udmFsdWUgOiAnJwogICAgICByZXR1cm4gdmFsdWUKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgLy8gY29uc29sZS5sb2codGhpcy51c2VySW5mbykKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydTZXRTZWxlY3RTY2hvb2wnXSksCiAgICBzY2hvb2xDaGFuZ2UgKHZhbHVlLCBvcHRpb24pIHsKICAgICAgbGV0IHNlbGVjdFZhbHVlID0ge30KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNjaG9vbE5hbWVMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuc2Nob29sTmFtZUxpc3RbaV0udmFsdWUgPT09IHZhbHVlKSB7IHNlbGVjdFZhbHVlID0gdGhpcy5zY2hvb2xOYW1lTGlzdFtpXSB9CiAgICAgIH0KICAgICAgdGhpcy5TZXRTZWxlY3RTY2hvb2woc2VsZWN0VmFsdWUpCiAgICB9LAogICAgaGFuZGxlTG9nb3V0IChlKSB7CiAgICAgIE1vZGFsLmNvbmZpcm0oewogICAgICAgIHRpdGxlOiAn56Gu5a6a6KaB6YCA5Ye655m75b2V5ZCXJywKICAgICAgICAvLyBjb250ZW50OiB0aGlzLiR0KCdsYXlvdXRzLnVzZXJtZW51LmRpYWxvZy5jb250ZW50JyksCiAgICAgICAgb25PazogKCkgPT4gewogICAgICAgICAgLy8gcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgIC8vICAgc2V0VGltZW91dChNYXRoLnJhbmRvbSgpID4gMC41ID8gcmVzb2x2ZSA6IHJlamVjdCwgMTUwMCkKICAgICAgICAgIC8vIH0pLmNhdGNoKCgpID0+IGNvbnNvbGUubG9nKCdPb3BzIGVycm9ycyEnKSkKICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnTG9nb3V0JykudGhlbigoKSA9PiB7CgogICAgICAgICAgfSkuY2F0Y2goKS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnc3R1ZGVudExvZ2luJyB9KQogICAgICAgICAgICB9LCAxMCkKICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBvbkNhbmNlbCAoKSB7fQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["StudentHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentHeader.vue","sourceRoot":"src/components/GlobalHeader","sourcesContent":["<template>\n  <div class=\"studentHeader\">\n    <div style=\"float:left;line-height:50px;padding:0 10px;font-weight: bold\">\n      <img src=\"@/assets/logo.svg\" style=\"width:24px;height:24px;margin-right:10px\"/>\n      <span style=\"vertical-align: top\">新闻管理</span>\n    </div>\n    <div style=\"float: right;line-height:50px;padding:0 10px;\">\n      <a-dropdown v-if=\"userInfo && userInfo.name\" placement=\"bottomRight\">\n        <span class=\"ant-pro-account-avatar\">\n          <a-avatar style=\"margin-right:10px;vertical-align: middle;\" size=\"small\" src=\"https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png\" class=\"antd-pro-global-header-index-avatar\" />\n          <span>{{ userInfo.name }}</span>\n        </span>\n        <template v-slot:overlay>\n          <a-menu class=\"ant-pro-drop-down menu\" :selected-keys=\"[]\">\n            <a-menu-item key=\"logout\" @click=\"handleLogout\">\n              <a-icon type=\"logout\" />\n              退出登录\n            </a-menu-item>\n          </a-menu></template></a-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\n  import AvatarDropdown from './AvatarDropdown'\n  import { mapActions, mapGetters } from 'vuex'\n  import { Modal } from 'ant-design-vue'\n\n  export default {\n    name: 'RightContent',\n    components: {\n      AvatarDropdown\n    },\n    props: {\n      prefixCls: {\n        type: String,\n        default: 'ant-pro-global-header-index-action'\n      },\n      // isMobile: {\n      //   type: Boolean,\n      //   default: () => false\n      // },\n      topMenu: {\n        type: Boolean,\n        required: true\n      },\n      theme: {\n        type: String,\n        required: true\n      }\n    },\n    data () {\n      return {\n        showMenu: true,\n        currentUser: {}\n      }\n    },\n    computed: {\n      ...mapGetters(['userInfo', 'schoolNameList', 'selectSchoolInfo', 'isMobile']),\n      wrpCls () {\n        return {\n          'ant-pro-global-header-index-right': true,\n          [`ant-pro-global-header-index-${(this.isMobile || !this.topMenu) ? 'light' : this.theme}`]: true\n        }\n      },\n      defaultValue () {\n        const value = this.schoolNameList[0] ? this.schoolNameList[0].value : ''\n        return value\n      }\n    },\n    mounted () {\n      // console.log(this.userInfo)\n    },\n    methods: {\n      ...mapActions(['SetSelectSchool']),\n      schoolChange (value, option) {\n        let selectValue = {}\n        for (let i = 0; i < this.schoolNameList.length; i++) {\n          if (this.schoolNameList[i].value === value) { selectValue = this.schoolNameList[i] }\n        }\n        this.SetSelectSchool(selectValue)\n      },\n      handleLogout (e) {\n        Modal.confirm({\n          title: '确定要退出登录吗',\n          // content: this.$t('layouts.usermenu.dialog.content'),\n          onOk: () => {\n            // return new Promise((resolve, reject) => {\n            //   setTimeout(Math.random() > 0.5 ? resolve : reject, 1500)\n            // }).catch(() => console.log('Oops errors!'))\n            return this.$store.dispatch('Logout').then(() => {\n\n            }).catch().finally(() => {\n              setTimeout(() => {\n                this.$router.push({ name: 'studentLogin' })\n              }, 10)\n            })\n          },\n          onCancel () {}\n        })\n      }\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n  .studentHeader{\n    position: fixed;\n    top:0;\n    left:0;\n    width:100%;\n    height:50px;\n    z-index: 10;\n    background: #fff;\n    border-bottom: 1px solid #f5f5f5;\n  }\n  </style>\n"]}]}