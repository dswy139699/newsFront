{"remainingRequest":"/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yushengnan/bysj/ysn/src/components/GlobalHeader/StudentHeader.vue?vue&type=style&index=0&id=1046fa79&lang=less&scoped=true&","dependencies":[{"path":"/Users/yushengnan/bysj/ysn/src/components/GlobalHeader/StudentHeader.vue","mtime":1650686992852},{"path":"/Users/yushengnan/bysj/ysn/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnN0dWRlbnRIZWFkZXJ7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDowOwogIGxlZnQ6MDsKICB3aWR0aDoxMDAlOwogIGhlaWdodDo1MHB4OwogIHotaW5kZXg6IDEwOwogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmNWY1ZjU7Cn0K"},{"version":3,"sources":["StudentHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentHeader.vue","sourceRoot":"src/components/GlobalHeader","sourcesContent":["<template>\n  <div class=\"studentHeader\">\n    <div style=\"float:left;line-height:50px;padding:0 10px;font-weight: bold\">\n      <img src=\"@/assets/logo.svg\" style=\"width:24px;height:24px;margin-right:10px\"/>\n      <span style=\"vertical-align: top\">新闻管理</span>\n    </div>\n    <div style=\"float: right;line-height:50px;padding:0 10px;\">\n      <a-dropdown v-if=\"userInfo && userInfo.name\" placement=\"bottomRight\">\n        <span class=\"ant-pro-account-avatar\">\n          <a-avatar style=\"margin-right:10px;vertical-align: middle;\" size=\"small\" src=\"https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png\" class=\"antd-pro-global-header-index-avatar\" />\n          <span>{{ userInfo.name }}</span>\n        </span>\n        <template v-slot:overlay>\n          <a-menu class=\"ant-pro-drop-down menu\" :selected-keys=\"[]\">\n            <a-menu-item key=\"logout\" @click=\"handleLogout\">\n              <a-icon type=\"logout\" />\n              退出登录\n            </a-menu-item>\n          </a-menu></template></a-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\n  import AvatarDropdown from './AvatarDropdown'\n  import { mapActions, mapGetters } from 'vuex'\n  import { Modal } from 'ant-design-vue'\n\n  export default {\n    name: 'RightContent',\n    components: {\n      AvatarDropdown\n    },\n    props: {\n      prefixCls: {\n        type: String,\n        default: 'ant-pro-global-header-index-action'\n      },\n      // isMobile: {\n      //   type: Boolean,\n      //   default: () => false\n      // },\n      topMenu: {\n        type: Boolean,\n        required: true\n      },\n      theme: {\n        type: String,\n        required: true\n      }\n    },\n    data () {\n      return {\n        showMenu: true,\n        currentUser: {}\n      }\n    },\n    computed: {\n      ...mapGetters(['userInfo', 'schoolNameList', 'selectSchoolInfo', 'isMobile']),\n      wrpCls () {\n        return {\n          'ant-pro-global-header-index-right': true,\n          [`ant-pro-global-header-index-${(this.isMobile || !this.topMenu) ? 'light' : this.theme}`]: true\n        }\n      },\n      defaultValue () {\n        const value = this.schoolNameList[0] ? this.schoolNameList[0].value : ''\n        return value\n      }\n    },\n    mounted () {\n      // console.log(this.userInfo)\n    },\n    methods: {\n      ...mapActions(['SetSelectSchool']),\n      schoolChange (value, option) {\n        let selectValue = {}\n        for (let i = 0; i < this.schoolNameList.length; i++) {\n          if (this.schoolNameList[i].value === value) { selectValue = this.schoolNameList[i] }\n        }\n        this.SetSelectSchool(selectValue)\n      },\n      handleLogout (e) {\n        Modal.confirm({\n          title: '确定要退出登录吗',\n          // content: this.$t('layouts.usermenu.dialog.content'),\n          onOk: () => {\n            // return new Promise((resolve, reject) => {\n            //   setTimeout(Math.random() > 0.5 ? resolve : reject, 1500)\n            // }).catch(() => console.log('Oops errors!'))\n            return this.$store.dispatch('Logout').then(() => {\n\n            }).catch().finally(() => {\n              setTimeout(() => {\n                this.$router.push({ name: 'studentLogin' })\n              }, 10)\n            })\n          },\n          onCancel () {}\n        })\n      }\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n  .studentHeader{\n    position: fixed;\n    top:0;\n    left:0;\n    width:100%;\n    height:50px;\n    z-index: 10;\n    background: #fff;\n    border-bottom: 1px solid #f5f5f5;\n  }\n  </style>\n"]}]}