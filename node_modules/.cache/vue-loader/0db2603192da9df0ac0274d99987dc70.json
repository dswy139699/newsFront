{"remainingRequest":"/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yushengnan/bysj/ysn/src/components/GlobalHeader/AvatarDropdown.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yushengnan/bysj/ysn/src/components/GlobalHeader/AvatarDropdown.vue","mtime":1611887314053},{"path":"/Users/yushengnan/bysj/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnYW50LWRlc2lnbi12dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0F2YXRhckRyb3Bkb3duJywKICBwcm9wczogewogICAgY3VycmVudFVzZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiBudWxsCiAgICB9LAogICAgbWVudTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVUb0NlbnRlciAoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9hY2NvdW50L2NlbnRlcicgfSkKICAgIH0sCiAgICBoYW5kbGVUb1NldHRpbmdzICgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2FjY291bnQvc2V0dGluZ3MnIH0pCiAgICB9LAogICAgaGFuZGxlTG9nb3V0IChlKSB7CiAgICAgIE1vZGFsLmNvbmZpcm0oewogICAgICAgIHRpdGxlOiAn56Gu5a6a6KaB6YCA5Ye655m75b2V5ZCXJywKICAgICAgICAvLyBjb250ZW50OiB0aGlzLiR0KCdsYXlvdXRzLnVzZXJtZW51LmRpYWxvZy5jb250ZW50JyksCiAgICAgICAgb25PazogKCkgPT4gewogICAgICAgICAgLy8gcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgIC8vICAgc2V0VGltZW91dChNYXRoLnJhbmRvbSgpID4gMC41ID8gcmVzb2x2ZSA6IHJlamVjdCwgMTUwMCkKICAgICAgICAgIC8vIH0pLmNhdGNoKCgpID0+IGNvbnNvbGUubG9nKCdPb3BzIGVycm9ycyEnKSkKICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnTG9nb3V0JykudGhlbigoKSA9PiB7CgogICAgICAgICAgfSkuY2F0Y2goKS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW4nIH0pCiAgICAgICAgICAgIH0sIDEwKQogICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIG9uQ2FuY2VsICgpIHt9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["AvatarDropdown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AvatarDropdown.vue","sourceRoot":"src/components/GlobalHeader","sourcesContent":["<template>\n  <a-dropdown v-if=\"currentUser && currentUser.name\" placement=\"bottomRight\">\n    <span class=\"ant-pro-account-avatar\">\n      <a-avatar size=\"small\" src=\"https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png\" class=\"antd-pro-global-header-index-avatar\" />\n      <span>{{ currentUser.name }}</span>\n    </span>\n    <template v-slot:overlay>\n      <a-menu class=\"ant-pro-drop-down menu\" :selected-keys=\"[]\">\n        <!--<a-menu-item v-if=\"menu\" key=\"center\" @click=\"handleToCenter\">-->\n        <!--<a-icon type=\"user\" />-->\n        <!--个人中心-->\n        <!--</a-menu-item>-->\n        <!--<a-menu-item v-if=\"menu\" key=\"settings\" @click=\"handleToSettings\">-->\n        <!--<a-icon type=\"setting\" />-->\n        <!--个人设置-->\n        <!--</a-menu-item>-->\n        <!--<a-menu-divider v-if=\"menu\" />-->\n        <a-menu-item key=\"logout\" @click=\"handleLogout\">\n          <a-icon type=\"logout\" />\n          退出登录\n        </a-menu-item>\n      </a-menu>\n    </template>\n  </a-dropdown>\n  <span v-else>\n    <a-spin size=\"small\" :style=\"{ marginLeft: 8, marginRight: 8 }\" />\n  </span>\n</template>\n\n<script>\nimport { Modal } from 'ant-design-vue'\n\nexport default {\n  name: 'AvatarDropdown',\n  props: {\n    currentUser: {\n      type: Object,\n      default: () => null\n    },\n    menu: {\n      type: Boolean,\n      default: true\n    }\n  },\n  methods: {\n    handleToCenter () {\n      this.$router.push({ path: '/account/center' })\n    },\n    handleToSettings () {\n      this.$router.push({ path: '/account/settings' })\n    },\n    handleLogout (e) {\n      Modal.confirm({\n        title: '确定要退出登录吗',\n        // content: this.$t('layouts.usermenu.dialog.content'),\n        onOk: () => {\n          // return new Promise((resolve, reject) => {\n          //   setTimeout(Math.random() > 0.5 ? resolve : reject, 1500)\n          // }).catch(() => console.log('Oops errors!'))\n          return this.$store.dispatch('Logout').then(() => {\n\n          }).catch().finally(() => {\n            setTimeout(() => {\n              this.$router.push({ name: 'login' })\n            }, 10)\n          })\n        },\n        onCancel () {}\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.ant-pro-drop-down {\n  /deep/ .action {\n    margin-right: 8px;\n  }\n  /deep/ .ant-dropdown-menu-item {\n    min-width: 160px;\n  }\n}\n</style>\n"]}]}