{"remainingRequest":"/Users/yushengnan/ysn/node_modules/babel-loader/lib/index.js!/Users/yushengnan/ysn/node_modules/eslint-loader/index.js??ref--13-0!/Users/yushengnan/ysn/src/store/modules/user.js","dependencies":[{"path":"/Users/yushengnan/ysn/src/store/modules/user.js","mtime":1618494512145},{"path":"/Users/yushengnan/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMveXVzaGVuZ25hbi95c24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLyBpbXBvcnQgc3RvcmFnZSBmcm9tICdzdG9yZScKaW1wb3J0IHsgZ2V0SW5mbywgbG9nb3V0LCBsb2dpbiB9IGZyb20gJ0AvYXBpL2xvZ2luJzsKaW1wb3J0IHsgZ2V0U2Nob29sLCBnZXRTY2hvb2xDbGF6elJlbGF0aW9uIH0gZnJvbSAnQC9hcGkvc2Nob29sJzsKaW1wb3J0IHsgZ2V0Q291cnNlIH0gZnJvbSAnQC9hcGkvY291cnNlJzsKaW1wb3J0IHsgZ2V0VGVhY2hpbmdNYXRlcmlhbCB9IGZyb20gJ0AvYXBpL2Jvb2snOyAvLyBpbXBvcnQgeyBnZXRDbGF6eiB9IGZyb20gJ0AvYXBpL2NsYXNzJwovLyBpbXBvcnQgeyBwZXJtaXNzaW9uIH0gZnJvbSAnLi9wZXJtaXNzaW9uJwoKaW1wb3J0IHsgTFN0b3JhZ2UgfSBmcm9tICdAL3N0b3JlL3Nlc3Npb24uanMnOyAvLyBpbXBvcnQgbG9kYXNoIGZyb20gJ2xvZGFzaCcKCnZhciB1c2VyID0gewogIHN0YXRlOiB7CiAgICBzY2hvb2xOYW1lTGlzdDogW10sCiAgICAvLyDlrabmoKHmlbDmja4KICAgIGNvdXJzZU5hbWVMaXN0OiBbXSwKICAgIC8vIOivvueoi+aVsOaNrgogICAgY2xhc3NOYW1lTGlzdDogW10sCiAgICAvLyDnj63nuqfmlbDmja4KICAgIGJvb2tOYW1lTGlzdDogW10sCiAgICAvLyDmlZnmnZAKICAgIGlzTW9iaWxlOiB0cnVlLAogICAgbmFtZTogJycsCiAgICBzZWxlY3RTY2hvb2xJbmZvOiB7fSwKICAgIC8vIOaJgOmAieWtpuagoeeahOWFt+S9k+S/oeaBrwogICAgaW5mbzoge30gLy8g5b2T5YmN55So5oi35L+h5oGvCgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfTU9CSUxFOiBmdW5jdGlvbiBTRVRfTU9CSUxFKHN0YXRlLCBpc01vYmlsZSkgewogICAgICBzdGF0ZS5pc01vYmlsZSA9IGlzTW9iaWxlOwogICAgfSwKICAgIFNFVF9OQU1FOiBmdW5jdGlvbiBTRVRfTkFNRShzdGF0ZSwgbmFtZSkgewogICAgICBzdGF0ZS5uYW1lID0gbmFtZTsKICAgIH0sCiAgICBTRVRfSU5GTzogZnVuY3Rpb24gU0VUX0lORk8oc3RhdGUsIGluZm8pIHsKICAgICAgc3RhdGUuaW5mbyA9IGluZm87CiAgICB9LAogICAgU0VUX1NDSE9PTDogZnVuY3Rpb24gU0VUX1NDSE9PTChzdGF0ZSwgaW5mbykgewogICAgICBzdGF0ZS5zY2hvb2xOYW1lTGlzdCA9IGluZm87CiAgICB9LAogICAgU0VUX0NPVVJTRTogZnVuY3Rpb24gU0VUX0NPVVJTRShzdGF0ZSwgaW5mbykgewogICAgICBzdGF0ZS5jb3Vyc2VOYW1lTGlzdCA9IGluZm87CiAgICB9LAogICAgU0VUX0NMQVNTOiBmdW5jdGlvbiBTRVRfQ0xBU1Moc3RhdGUsIGluZm8pIHsKICAgICAgc3RhdGUuY2xhc3NOYW1lTGlzdCA9IGluZm87CiAgICB9LAogICAgU0VUX0JPT0s6IGZ1bmN0aW9uIFNFVF9CT09LKHN0YXRlLCBpbmZvKSB7CiAgICAgIHN0YXRlLmJvb2tOYW1lTGlzdCA9IGluZm87CiAgICB9LAogICAgU0VUX1NFTEVDVFNDSE9PTElORk86IGZ1bmN0aW9uIFNFVF9TRUxFQ1RTQ0hPT0xJTkZPKHN0YXRlLCBpbmZvKSB7CiAgICAgIHN0YXRlLnNlbGVjdFNjaG9vbEluZm8gPSBpbmZvOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgU2V0TW9iaWxlOiBmdW5jdGlvbiBTZXRNb2JpbGUoX3JlZiwgZGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGNvbnNvbGUubG9nKCfmmK/lkKbnp7vliqjnq68nLCBkYXRhKTsKICAgICAgY29tbWl0KCdTRVRfTU9CSUxFJywgZGF0YSk7CiAgICB9LAogICAgLy8g55m75b2VCiAgICBMb2dpbjogZnVuY3Rpb24gTG9naW4oX3JlZjIsIHVzZXJJbmZvKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgLy8gdXNlckluZm8udHlwZSA9ICdzY2hvb2wnCiAgICAgICAgbG9naW4odXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UgfHwge307CiAgICAgICAgICBMU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3VsdC50b2tlbik7CiAgICAgICAgICBjb21taXQoJ1NFVF9OQU1FJywgcmVzdWx0LnVzZXIgPyByZXN1bHQudXNlci5uYW1lIDogJycpOwogICAgICAgICAgY29tbWl0KCdTRVRfSU5GTycsIHJlc3VsdC51c2VyIHx8IHt9KTsgLy8g5pqC5pe25bCG5Y2V5L2N5YaZ5q27CiAgICAgICAgICAvLyBzdG9yYWdlLnNldChBQ0NFU1NfVE9LRU4sIHJlc3VsdC50b2tlbiwgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApCgogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W55So5oi35L+h5oGvCiAgICBHZXRJbmZvOiBmdW5jdGlvbiBHZXRJbmZvKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZ2V0SW5mbygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UgfHwge307IC8vIExTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzdWx0LnRva2VuKQoKICAgICAgICAgIGNvbW1pdCgnU0VUX05BTUUnLCByZXN1bHQudXNlciA/IHJlc3VsdC51c2VyLm5hbWUgOiAnJyk7CiAgICAgICAgICBjb21taXQoJ1NFVF9JTkZPJywgcmVzdWx0LnVzZXIgfHwge30pOyAvLyDmmoLml7blsIbljZXkvY3lhpnmrbsKICAgICAgICAgIC8vIHN0b3JhZ2Uuc2V0KEFDQ0VTU19UT0tFTiwgcmVzdWx0LnRva2VuLCA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkKCiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnmbvlh7oKICAgIExvZ291dDogZnVuY3Rpb24gTG9nb3V0KF9yZWY0KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWY0LnN0YXRlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGxvZ291dCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pWyJmaW5hbGx5Il0oZnVuY3Rpb24gKCkgewogICAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsICcnKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX0lORk8nLCB7fSk7CiAgICAgICAgICBjb21taXQoJ1NFVF9TRUxFQ1RTQ0hPT0xJTkZPJywge30pOyAvLyBjb21taXQocGVybWlzc2lvbi5tdXRhdGlvbnMuU0VUX1JPVVRFUlMsIFtdKQogICAgICAgICAgLy8gcGVybWlzc2lvbi5tdXRhdGlvbnMuU0VUX1JPVVRFUlMoKQoKICAgICAgICAgIExTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWtpuagoQogICAgR2V0U2Nob29sOiBmdW5jdGlvbiBHZXRTY2hvb2woX3JlZjUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGU7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZ2V0U2Nob29sKHsKICAgICAgICAgIGlkOiBzdGF0ZS5pbmZvLmlkLAogICAgICAgICAgdHlwZTogc3RhdGUuaW5mby50eXBlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2UgfHwgW107CiAgICAgICAgICB2YXIgc2Nob29sTmFtZUxpc3QgPSByZXNwb25zZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5pZAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgY29tbWl0KCdTRVRfU0NIT09MJywgc2Nob29sTmFtZUxpc3QpOwogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOivvueoiwogICAgR2V0Q291cnNlOiBmdW5jdGlvbiBHZXRDb3Vyc2UoX3JlZjYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjYuc3RhdGU7CiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBnZXRDb3Vyc2UoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2UgfHwgW107IC8vIGNvbnN0IHNjaG9vbE5hbWVMaXN0ID0gcmVzcG9uc2UubWFwKGl0ZW0gPT4gewogICAgICAgICAgLy8gICByZXR1cm4gewogICAgICAgICAgLy8gICAgIGxhYmVsOiBpdGVtLm5hbWUsCiAgICAgICAgICAvLyAgICAgdmFsdWU6IGl0ZW0uaWQKICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gfSkKCiAgICAgICAgICBjb21taXQoJ1NFVF9DT1VSU0UnLCByZXNwb25zZSk7CiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g54+t57qnCiAgICBHZXRDbGFzczogZnVuY3Rpb24gR2V0Q2xhc3MoX3JlZjcpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjcuc3RhdGU7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZ2V0U2Nob29sQ2xhenpSZWxhdGlvbih7fSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2UgfHwgW107CiAgICAgICAgICBjb21taXQoJ1NFVF9DTEFTUycsIHJlc3BvbnNlKTsKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBPbkNsZWFyOiBmdW5jdGlvbiBPbkNsZWFyKF9yZWY4KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOC5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWY4LnN0YXRlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIC8vIGxvZ291dCgpLnRoZW4oKCkgPT4gewogICAgICAgIC8vICAgcmVzb2x2ZSgpCiAgICAgICAgLy8gfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgIC8vICAgcmVqZWN0KGVycikKICAgICAgICAvLyB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICBjb21taXQoJ1NFVF9OQU1FJywgJycpOwogICAgICAgIGNvbW1pdCgnU0VUX0lORk8nLCB7fSk7CiAgICAgICAgY29tbWl0KCdTRVRfU0VMRUNUU0NIT09MSU5GTycsIHt9KTsgLy8gY29tbWl0KHBlcm1pc3Npb24ubXV0YXRpb25zLlNFVF9ST1VURVJTLCBbXSkKICAgICAgICAvLyBwZXJtaXNzaW9uLm11dGF0aW9ucy5TRVRfUk9VVEVSUygpCgogICAgICAgIExTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgcmVzb2x2ZSgpOyAvLyB9KQogICAgICB9KTsKICAgIH0sCiAgICBHZXRUZWFjaGluZ01hdGVyaWFsOiBmdW5jdGlvbiBHZXRUZWFjaGluZ01hdGVyaWFsKF9yZWY5KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWY5LnN0YXRlOwogICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZ2V0VGVhY2hpbmdNYXRlcmlhbChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzcG9uc2UgPSByZXNwb25zZSB8fCBbXTsKICAgICAgICAgIGNvbW1pdCgnU0VUX0JPT0snLCByZXNwb25zZSk7CiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgU2V0U2VsZWN0U2Nob29sOiBmdW5jdGlvbiBTZXRTZWxlY3RTY2hvb2woX3JlZjEwKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTAuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmMTAuc3RhdGU7CiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgY29tbWl0KCdTRVRfU0VMRUNUU0NIT09MSU5GTycsIGRhdGEpOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgdXNlcjs="},{"version":3,"sources":["/Users/yushengnan/ysn/src/store/modules/user.js"],"names":["getInfo","logout","login","getSchool","getSchoolClazzRelation","getCourse","getTeachingMaterial","LStorage","user","state","schoolNameList","courseNameList","classNameList","bookNameList","isMobile","name","selectSchoolInfo","info","mutations","SET_MOBILE","SET_NAME","SET_INFO","SET_SCHOOL","SET_COURSE","SET_CLASS","SET_BOOK","SET_SELECTSCHOOLINFO","actions","SetMobile","data","commit","console","log","Login","userInfo","Promise","resolve","reject","then","response","result","setItem","token","error","GetInfo","Logout","err","removeItem","GetSchool","id","type","map","item","label","value","GetCourse","GetClass","OnClear","GetTeachingMaterial","SetSelectSchool"],"mappings":"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","sourcesContent":["// import storage from 'store'\nimport { getInfo, logout, login } from '@/api/login'\nimport { getSchool, getSchoolClazzRelation } from '@/api/school'\nimport { getCourse } from '@/api/course'\nimport { getTeachingMaterial } from '@/api/book'\n// import { getClazz } from '@/api/class'\n// import { permission } from './permission'\nimport { LStorage } from '@/store/session.js'\n// import lodash from 'lodash'\n\nconst user = {\n  state: {\n    schoolNameList: [], // 学校数据\n    courseNameList: [], // 课程数据\n    classNameList: [], // 班级数据\n    bookNameList: [], // 教材\n    isMobile: true,\n    name: '',\n    selectSchoolInfo: {}, // 所选学校的具体信息\n    info: { } // 当前用户信息\n  },\n\n  mutations: {\n    SET_MOBILE: (state, isMobile) => {\n      state.isMobile = isMobile\n    },\n    SET_NAME: (state, name) => {\n      state.name = name\n    },\n    SET_INFO: (state, info) => {\n      state.info = info\n    },\n    SET_SCHOOL: (state, info) => {\n      state.schoolNameList = info\n    },\n    SET_COURSE: (state, info) => {\n      state.courseNameList = info\n    },\n    SET_CLASS: (state, info) => {\n      state.classNameList = info\n    },\n    SET_BOOK: (state, info) => {\n      state.bookNameList = info\n    },\n    SET_SELECTSCHOOLINFO: (state, info) => {\n      state.selectSchoolInfo = info\n    }\n  },\n\n  actions: {\n    SetMobile ({ commit }, data) {\n      console.log('是否移动端', data)\n      commit('SET_MOBILE', data)\n    },\n    // 登录\n    Login ({ commit }, userInfo) {\n      return new Promise((resolve, reject) => {\n        // userInfo.type = 'school'\n        login(userInfo).then(response => {\n          const result = response || {}\n          LStorage.setItem('token', result.token)\n          commit('SET_NAME', result.user ? result.user.name : '')\n          commit('SET_INFO', result.user || {})// 暂时将单位写死\n          // storage.set(ACCESS_TOKEN, result.token, 7 * 24 * 60 * 60 * 1000)\n          resolve(result)\n        }).catch(error => {\n          reject(error)\n        })\n      })\n    },\n\n    // 获取用户信息\n    GetInfo ({ commit }) {\n      return new Promise((resolve, reject) => {\n        getInfo().then(response => {\n          const result = response || {}\n          // LStorage.setItem('token', result.token)\n          commit('SET_NAME', result.user ? result.user.name : '')\n          commit('SET_INFO', result.user || {})// 暂时将单位写死\n          // storage.set(ACCESS_TOKEN, result.token, 7 * 24 * 60 * 60 * 1000)\n          resolve(result)\n        }).catch(error => {\n          reject(error)\n        })\n      })\n    },\n\n    // 登出\n    Logout ({ commit, state }) {\n      return new Promise((resolve, reject) => {\n        logout().then(() => {\n          resolve()\n        }).catch((err) => {\n          reject(err)\n        }).finally(() => {\n          commit('SET_NAME', '')\n          commit('SET_INFO', { })\n          commit('SET_SELECTSCHOOLINFO', {})\n          // commit(permission.mutations.SET_ROUTERS, [])\n          // permission.mutations.SET_ROUTERS()\n          LStorage.removeItem('token')\n        })\n      })\n    },\n\n    // 学校\n    GetSchool ({ commit, state }) {\n      return new Promise((resolve, reject) => {\n        getSchool({ id: state.info.id, type: state.info.type }).then((response) => {\n          response = response || []\n          const schoolNameList = response.map(item => {\n           return {\n                      ...item,\n                      label: item.name,\n                      value: item.id\n                    }\n              })\n          commit('SET_SCHOOL', schoolNameList)\n          resolve(response)\n        }).catch((err) => {\n          reject(err)\n        })\n      })\n    },\n    // 课程\n    GetCourse ({ commit, state }, data = {}) {\n      return new Promise((resolve, reject) => {\n        getCourse(data).then((response) => {\n          response = response || []\n          // const schoolNameList = response.map(item => {\n          //   return {\n          //     label: item.name,\n          //     value: item.id\n          //   }\n          // })\n          commit('SET_COURSE', response)\n          resolve(response)\n        }).catch((err) => {\n          reject(err)\n        })\n      })\n    },\n    // 班级\n    GetClass ({ commit, state }) {\n      return new Promise((resolve, reject) => {\n        getSchoolClazzRelation({}).then((response) => {\n          response = response || []\n          commit('SET_CLASS', response)\n          resolve(response)\n        }).catch((err) => {\n          reject(err)\n        })\n      })\n    },\n    OnClear ({ commit, state }) {\n      return new Promise((resolve, reject) => {\n        // logout().then(() => {\n        //   resolve()\n        // }).catch((err) => {\n        //   reject(err)\n        // }).finally(() => {\n          commit('SET_NAME', '')\n          commit('SET_INFO', { })\n        commit('SET_SELECTSCHOOLINFO', {})\n          // commit(permission.mutations.SET_ROUTERS, [])\n          // permission.mutations.SET_ROUTERS()\n          LStorage.removeItem('token')\n          resolve()\n        // })\n      })\n    },\n    GetTeachingMaterial ({ commit, state }, data = {}) {\n      return new Promise((resolve, reject) => {\n        getTeachingMaterial(data).then((response) => {\n          response = response || []\n          commit('SET_BOOK', response)\n          resolve(response)\n        }).catch((err) => {\n          reject(err)\n        })\n      })\n    },\n    SetSelectSchool ({ commit, state }, data = {}) {\n        commit('SET_SELECTSCHOOLINFO', data)\n    }\n  }\n}\n\nexport default user\n"]}]}