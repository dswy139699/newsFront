{"remainingRequest":"/Users/yushengnan/bysj/ysn/node_modules/babel-loader/lib/index.js!/Users/yushengnan/bysj/ysn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yushengnan/bysj/ysn/src/views/increaseNews.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yushengnan/bysj/ysn/src/views/increaseNews.vue","mtime":1650704095511},{"path":"/Users/yushengnan/bysj/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/bysj/ysn/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy95dXNoZW5nbmFuL2J5c2oveXNuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZm9ybURhdGEgfSBmcm9tICcuL2Zvcm1EYXRhJzsKaW1wb3J0IHsgdXBkYXRlU3R1ZGVudCBhcyBfdXBkYXRlU3R1ZGVudCwgZ2V0U3R1ZGVudEJ5SWQgfSBmcm9tICdAL2FwaS9zdHVkZW50JzsKaW1wb3J0IHsgY2hlY2tQaG9uZSB9IGZyb20gJ0AvdXRpbHMvY2hlY2tGdW4nOwppbXBvcnQgRSBmcm9tICd3YW5nZWRpdG9yJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbmRleCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJJbmZvOiB7fSwKICAgICAgZWRpdENvbnRlbnQ6ICcnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldEZvcm1EYXRhOiBmdW5jdGlvbiBnZXRGb3JtRGF0YSgpIHsKICAgICAgcmV0dXJuIGZvcm1EYXRhLmdldEluY3JlYXNlRm9ybSh0aGlzLCAnbmV3cycpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB1c2VySW5mbyA9IHRoaXMuJHN0b3JlLmdldHRlcnMudXNlckluZm8gfHwge307CiAgICB0aGlzLnVzZXJJbmZvID0gdXNlckluZm87CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgZWRpdG9yID0gbmV3IEUoJyNlZGl0RWxlbScpOwogICAgZWRpdG9yLmN1c3RvbUNvbmZpZy5zaG93TGlua0ltZyA9IGZhbHNlOwoKICAgIGVkaXRvci5jdXN0b21Db25maWcub25jaGFuZ2UgPSBmdW5jdGlvbiAoaCkgewogICAgICBfdGhpcy5lZGl0Q29udGVudCA9IGg7CiAgICB9OwoKICAgIGVkaXRvci5jcmVhdGUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuJHJlZnMubmV3c0luZm8uaGFuZGxlU3VibWl0KCk7IC8vIGNvbnNvbGUubG9nKHBhcmFtcykKCiAgICAgIGlmIChwYXJhbXMpIHt9CiAgICB9LAogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICAvLyBhcHBsaWNhdGlvbi9wZGYKICAgICAgLy8gY29uc29sZS5sb2coZmlsZSkKICAgICAgLy8gaWYgKGZpbGUgJiYgZmlsZS5uYW1lICYmIChmaWxlLm5hbWUuaW5kZXhPZignLicpICE9PSAtMSkgJiYgZmlsZS5uYW1lLnNwbGl0KCcuJylbZmlsZS5uYW1lLnNwbGl0KCcuJykubGVuZ3RoIC0gMV0udG9VcHBlckNhc2UoKSA9PT0gJ1BERicpIHsKICAgICAgLy8gICByZXR1cm4gdHJ1ZQogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIHRoaXMuJG5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgIC8vICAgICBtZXNzYWdlOiAn5Y+q6IO95LiK5LygUERG5paH5Lu2JwogICAgICAvLyAgIH0pCiAgICAgIC8vICAgcmV0dXJuIGZhbHNlCiAgICAgIC8vIH0KICAgICAgY29uc29sZS5sb2coZmlsZSk7CgogICAgICBpZiAoZmlsZSAmJiBmaWxlLnR5cGUgJiYgKGZpbGUudHlwZSA9PT0gJ2ltYWdlL3BuZycgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZycgfHwgZmlsZS50eXBlID09PSAnaW1hZ2UvanBnJykpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRub3RpZmljYXRpb24uZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ+WPquiDveWbvueJh+aWh+S7ticKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBnb1RvSGlzdG9yeTogZnVuY3Rpb24gZ29Ub0hpc3RvcnkoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGRhdGEpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ0dldENvdXJzZScsIHsKICAgICAgICBzY2hvb2xJZDogZGF0YQogICAgICB9KTsKICAgICAgdGhpcy5zZWxlY3RlZFJvd0tleXNJbmNyZWFzZSA9IFtdOwogICAgICB0aGlzLnNlbGVjdGVkTGlzdEluZm8gPSBbXTsKICAgIH0sCiAgICBjdXN0b21SZXF1ZXN0OiBmdW5jdGlvbiBjdXN0b21SZXF1ZXN0KGRhdGEpIHsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZXMnLCBkYXRhLmZpbGUpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Byb2Nlc3NfY29uZmlnX3R5cGUnLCB0aGlzLmluaXREYXRhLmluaXRfdmFsdWUucHJvY2Vzc19jb25maWdfdHlwZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncHJvY2Vzc19iYXNlX3dvcmtfZmxvd19udW1iZXInLCB0aGlzLmluaXREYXRhLmluaXRfdmFsdWUucHJvY2Vzc19iYXNlX3dvcmtfZmxvd19udW1iZXIpOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgey8vIHNlcnZpY2UudXBsb2FkUHJvY2Vzc0ZpbGUoZm9ybURhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIC8vICAgdGhpcy4kbm90aWZpY2F0aW9uLnN1Y2Nlc3MoewogICAgICAgIC8vICAgICBtZXNzYWdlOiAn5paH5Lu25LiK5Lyg5oiQ5YqfJwogICAgICAgIC8vICAgfSkKICAgICAgICAvLyAgIHRoaXMuZmlsZURhdGEgPSByZXNwb25zZVswXQogICAgICAgIC8vIH0pCiAgICAgICAgLy8gICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgIC8vICAgdGhpcy4kbm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgICAvLyAgICAgbWVzc2FnZTogJ+aWh+S7tuS4iuS8oOWksei0pScKICAgICAgICAvLyAgIH0pCiAgICAgICAgLy8gfSkKICAgICAgfSk7CiAgICB9LAogICAgLy8g5qCh6aqM55S16K+d5Y+356CB5piv5ZCm5qCH5YeGCiAgICBjaGVja1RlbDogZnVuY3Rpb24gY2hlY2tUZWwocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSAmJiAhY2hlY2tQaG9uZSh2YWx1ZSkpIHsKICAgICAgICB2YXIgdGl0bGUgPSAn6K+36L6T5YWl5q2j56Gu5qC85byP55qE5Y+356CBJzsKICAgICAgICBjYWxsYmFjayh0aXRsZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLiRyZWZzLnN0dWRlbnRJbmZvLmhhbmRsZVN1Ym1pdCgpOwoKICAgICAgaWYgKHBhcmFtcykgewogICAgICAgIGdldFN0dWRlbnRCeUlkKHsKICAgICAgICAgIGlkOiB0aGlzLnVzZXJJbmZvLmlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMi51cGRhdGVTdHVkZW50KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVzcG9uc2UpLCBwYXJhbXMpKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVN0dWRlbnQ6IGZ1bmN0aW9uIHVwZGF0ZVN0dWRlbnQoZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIF91cGRhdGVTdHVkZW50KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAnL2Jvb2svc3R1ZGVudC91blBheWVkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["increaseNews.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <page-header-wrapper>\n    <template v-slot:content>\n      <div class=\"page-header-content\">\n      </div>\n    </template>\n    <div class=\"content\">\n      <div style=\"width:100%;padding:0 20px\">\n        <GlobalForm ref=\"newsInfo\" :dataSource=\"getFormData\" id=\"newsInfo\">\n          <template #editor>\n            <div id=\"editElem\" style=\"text-align: left\"></div>\n          </template>\n          <template #button>\n            <div style=\"margin-top:4px;text-align: right\">\n              <a-button type=\"primary\" @click=\"submit\">\n                提交\n              </a-button>\n            </div>\n          </template>\n        </GlobalForm>\n        <div class=\"formButton\" style=\"margin-top:20px;text-align: right\">\n          <a-button type=\"primary\" :style=\"{ marginLeft: '8px' }\" @click=\"onSubmit\" >\n            提交\n          </a-button>\n          <a-button :style=\"{ marginLeft: '8px' }\" @click=\"goToHistory\">\n            取消\n          </a-button>\n        </div>\n      </div>\n    </div>\n  </page-header-wrapper>\n</template>\n\n<script>\n    import { formData } from './formData'\n    import { updateStudent, getStudentById } from '@/api/student'\n    import { checkPhone } from '@/utils/checkFun'\n    import E from 'wangeditor'\n\n    export default {\n        name: 'Index',\n        data () {\n            return {\n                userInfo: {},\n              editContent: ''\n            }\n        },\n        computed: {\n            getFormData () {\n                return formData.getIncreaseForm(this, 'news')\n            }\n        },\n        created () {\n            const userInfo = this.$store.getters.userInfo || {}\n            this.userInfo = userInfo\n        },\n        mounted () {\n          const editor = new E('#editElem')\n          editor.customConfig.showLinkImg = false\n          editor.customConfig.onchange = (h) => {\n            this.editContent = h\n          }\n          editor.create()\n        },\n        methods: {\n          onSubmit () {\n            const params = this.$refs.newsInfo.handleSubmit()\n            // console.log(params)\n            if (params) {\n            }\n          },\n          beforeUpload (file) {\n            // application/pdf\n            // console.log(file)\n            // if (file && file.name && (file.name.indexOf('.') !== -1) && file.name.split('.')[file.name.split('.').length - 1].toUpperCase() === 'PDF') {\n            //   return true\n            // } else {\n            //   this.$notification.error({\n            //     message: '只能上传PDF文件'\n            //   })\n            //   return false\n            // }\n            console.log(file)\n            if (file && file.type && (file.type === 'image/png' || file.type === 'image/jpeg' || file.type === 'image/jpg')) {\n              return true\n            } else {\n              this.$notification.error({\n                message: '只能图片文件'\n              })\n              return false\n            }\n          },\n          goToHistory(){\n            this.$router.go(-1)\n          },\n          onChange (data) {\n            this.$store.dispatch('GetCourse', { schoolId: data })\n            this.selectedRowKeysIncrease = []\n            this.selectedListInfo = []\n          },\n          customRequest (data) {\n            const formData = new FormData()\n            formData.append('files', data.file)\n            formData.append('process_config_type', this.initData.init_value.process_config_type)\n            formData.append('process_base_work_flow_number', this.initData.init_value.process_base_work_flow_number)\n            return new Promise((resolve, reject) => {\n              // service.uploadProcessFile(formData).then(response => {\n              //   this.$notification.success({\n              //     message: '文件上传成功'\n              //   })\n              //   this.fileData = response[0]\n              // })\n              //         .catch(() => {\n              //   this.$notification.error({\n              //     message: '文件上传失败'\n              //   })\n              // })\n            })\n          },\n            // 校验电话号码是否标准\n            checkTel (rule, value, callback) {\n                if (value && !checkPhone(value)) {\n                    const title = '请输入正确格式的号码'\n                    callback(title)\n                } else {\n                    callback()\n                }\n            },\n            submit () {\n                const params = this.$refs.studentInfo.handleSubmit()\n                if (params) {\n                    getStudentById({ id: this.userInfo.id }).then(response => {\n                        this.updateStudent({ ...response, ...params })\n                    })\n                }\n            },\n            updateStudent (data) {\n                updateStudent(data).then(response => {\n                    this.$router.push({ path: '/book/student/unPayed' })\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    @import \"./style.less\";\n    .content{\n        background: #fff;\n        padding:60px 0;\n        border-radius:2px;\n        display: flex;\n        justify-content: center;\n    }\n</style>\n"],"sourceRoot":"src/views"}]}