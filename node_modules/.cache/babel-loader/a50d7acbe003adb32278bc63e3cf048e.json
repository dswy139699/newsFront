{"remainingRequest":"/Users/yushengnan/ysn/node_modules/babel-loader/lib/index.js!/Users/yushengnan/ysn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yushengnan/ysn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yushengnan/ysn/src/components/GlobalHeader/StudentHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yushengnan/ysn/src/components/GlobalHeader/StudentHeader.vue","mtime":1617257882505},{"path":"/Users/yushengnan/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yushengnan/ysn/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMiOwppbXBvcnQgImFudC1kZXNpZ24tdnVlL2VzL21vZGFsL3N0eWxlIjsKaW1wb3J0IF9Nb2RhbCBmcm9tICJhbnQtZGVzaWduLXZ1ZS9lcy9tb2RhbCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL3l1c2hlbmduYW4veXNuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy95dXNoZW5nbmFuL3lzbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBdmF0YXJEcm9wZG93biBmcm9tICcuL0F2YXRhckRyb3Bkb3duJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JpZ2h0Q29udGVudCcsCiAgY29tcG9uZW50czogewogICAgQXZhdGFyRHJvcGRvd246IEF2YXRhckRyb3Bkb3duCiAgfSwKICBwcm9wczogewogICAgcHJlZml4Q2xzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiAnYW50LXByby1nbG9iYWwtaGVhZGVyLWluZGV4LWFjdGlvbicKICAgIH0sCiAgICAvLyBpc01vYmlsZTogewogICAgLy8gICB0eXBlOiBCb29sZWFuLAogICAgLy8gICBkZWZhdWx0OiAoKSA9PiBmYWxzZQogICAgLy8gfSwKICAgIHRvcE1lbnU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB0aGVtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd01lbnU6IHRydWUsCiAgICAgIGN1cnJlbnRVc2VyOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyd1c2VySW5mbycsICdzY2hvb2xOYW1lTGlzdCcsICdzZWxlY3RTY2hvb2xJbmZvJywgJ2lzTW9iaWxlJ10pKSwge30sIHsKICAgIHdycENsczogZnVuY3Rpb24gd3JwQ2xzKCkgewogICAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHsKICAgICAgICAnYW50LXByby1nbG9iYWwtaGVhZGVyLWluZGV4LXJpZ2h0JzogdHJ1ZQogICAgICB9LCAiYW50LXByby1nbG9iYWwtaGVhZGVyLWluZGV4LSIuY29uY2F0KHRoaXMuaXNNb2JpbGUgfHwgIXRoaXMudG9wTWVudSA/ICdsaWdodCcgOiB0aGlzLnRoZW1lKSwgdHJ1ZSk7CiAgICB9LAogICAgZGVmYXVsdFZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VmFsdWUoKSB7CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc2Nob29sTmFtZUxpc3RbMF0gPyB0aGlzLnNjaG9vbE5hbWVMaXN0WzBdLnZhbHVlIDogJyc7CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vIGNvbnNvbGUubG9nKHRoaXMudXNlckluZm8pCiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydTZXRTZWxlY3RTY2hvb2wnXSkpLCB7fSwgewogICAgc2Nob29sQ2hhbmdlOiBmdW5jdGlvbiBzY2hvb2xDaGFuZ2UodmFsdWUsIG9wdGlvbikgewogICAgICB2YXIgc2VsZWN0VmFsdWUgPSB7fTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zY2hvb2xOYW1lTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnNjaG9vbE5hbWVMaXN0W2ldLnZhbHVlID09PSB2YWx1ZSkgewogICAgICAgICAgc2VsZWN0VmFsdWUgPSB0aGlzLnNjaG9vbE5hbWVMaXN0W2ldOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5TZXRTZWxlY3RTY2hvb2woc2VsZWN0VmFsdWUpOwogICAgfSwKICAgIGhhbmRsZUxvZ291dDogZnVuY3Rpb24gaGFuZGxlTG9nb3V0KGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF9Nb2RhbC5jb25maXJtKHsKICAgICAgICB0aXRsZTogJ+ehruWumuimgemAgOWHuueZu+W9leWQlycsCiAgICAgICAgLy8gY29udGVudDogdGhpcy4kdCgnbGF5b3V0cy51c2VybWVudS5kaWFsb2cuY29udGVudCcpLAogICAgICAgIG9uT2s6IGZ1bmN0aW9uIG9uT2soKSB7CiAgICAgICAgICAvLyByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgLy8gICBzZXRUaW1lb3V0KE1hdGgucmFuZG9tKCkgPiAwLjUgPyByZXNvbHZlIDogcmVqZWN0LCAxNTAwKQogICAgICAgICAgLy8gfSkuY2F0Y2goKCkgPT4gY29uc29sZS5sb2coJ09vcHMgZXJyb3JzIScpKQogICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnTG9nb3V0JykudGhlbihmdW5jdGlvbiAoKSB7fSlbImNhdGNoIl0oKVsiZmluYWxseSJdKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICdzdHVkZW50TG9naW4nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgb25DYW5jZWw6IGZ1bmN0aW9uIG9uQ2FuY2VsKCkge30KICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["StudentHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,cAAA,MAAA,kBAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA;AAFA,KADA;AAKA;AACA;AACA;AACA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAFA,KATA;AAaA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AAbA,GALA;AAuBA,EAAA,IAvBA,kBAuBA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GA5BA;AA6BA,EAAA,QAAA,kCACA,UAAA,CAAA,CAAA,UAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,UAAA,CAAA,CADA;AAEA,IAAA,MAFA,oBAEA;AACA;AACA,6CAAA;AADA,+CAEA,KAAA,QAAA,IAAA,CAAA,KAAA,OAAA,GAAA,OAAA,GAAA,KAAA,KAFA,GAEA,IAFA;AAIA,KAPA;AAQA,IAAA,YARA,0BAQA;AACA,UAAA,KAAA,GAAA,KAAA,cAAA,CAAA,CAAA,IAAA,KAAA,cAAA,CAAA,CAAA,EAAA,KAAA,GAAA,EAAA;AACA,aAAA,KAAA;AACA;AAXA,IA7BA;AA0CA,EAAA,OA1CA,qBA0CA,CACA;AACA,GA5CA;AA6CA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,iBAAA,CAAA,CADA;AAEA,IAAA,YAFA,wBAEA,KAFA,EAEA,MAFA,EAEA;AACA,UAAA,WAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,cAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,KAAA,cAAA,CAAA,CAAA,EAAA,KAAA,KAAA,KAAA,EAAA;AAAA,UAAA,WAAA,GAAA,KAAA,cAAA,CAAA,CAAA,CAAA;AAAA;AACA;;AACA,WAAA,eAAA,CAAA,WAAA;AACA,KARA;AASA,IAAA,YATA,wBASA,CATA,EASA;AAAA;;AACA,aAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,UADA;AAEA;AACA,QAAA,IAAA,EAAA,gBAAA;AACA;AACA;AACA;AACA,iBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA,CAEA,CAFA,wBAEA,YAAA;AACA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AACA,aAFA,EAEA,EAFA,CAAA;AAGA,WANA,CAAA;AAOA,SAdA;AAeA,QAAA,QAfA,sBAeA,CAAA;AAfA,OAAA;AAiBA;AA3BA;AA7CA,CAAA","sourcesContent":["<template>\n  <div class=\"studentHeader\">\n    <div style=\"float:left;line-height:50px;padding:0 10px;font-weight: bold\">\n      <img src=\"@/assets/logo.svg\" style=\"width:24px;height:24px;margin-right:10px\"/>\n      <span style=\"vertical-align: top\">生涯图书</span>\n    </div>\n    <div style=\"float: right;line-height:50px;padding:0 10px;\">\n      <a-dropdown v-if=\"userInfo && userInfo.name\" placement=\"bottomRight\">\n        <span class=\"ant-pro-account-avatar\">\n          <a-avatar style=\"margin-right:10px;vertical-align: middle;\" size=\"small\" src=\"https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png\" class=\"antd-pro-global-header-index-avatar\" />\n          <span>{{ userInfo.name }}</span>\n        </span>\n        <template v-slot:overlay>\n          <a-menu class=\"ant-pro-drop-down menu\" :selected-keys=\"[]\">\n            <a-menu-item key=\"logout\" @click=\"handleLogout\">\n              <a-icon type=\"logout\" />\n              退出登录\n            </a-menu-item>\n          </a-menu></template></a-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\n  import AvatarDropdown from './AvatarDropdown'\n  import { mapActions, mapGetters } from 'vuex'\n  import { Modal } from 'ant-design-vue'\n\n  export default {\n    name: 'RightContent',\n    components: {\n      AvatarDropdown\n    },\n    props: {\n      prefixCls: {\n        type: String,\n        default: 'ant-pro-global-header-index-action'\n      },\n      // isMobile: {\n      //   type: Boolean,\n      //   default: () => false\n      // },\n      topMenu: {\n        type: Boolean,\n        required: true\n      },\n      theme: {\n        type: String,\n        required: true\n      }\n    },\n    data () {\n      return {\n        showMenu: true,\n        currentUser: {}\n      }\n    },\n    computed: {\n      ...mapGetters(['userInfo', 'schoolNameList', 'selectSchoolInfo', 'isMobile']),\n      wrpCls () {\n        return {\n          'ant-pro-global-header-index-right': true,\n          [`ant-pro-global-header-index-${(this.isMobile || !this.topMenu) ? 'light' : this.theme}`]: true\n        }\n      },\n      defaultValue () {\n        const value = this.schoolNameList[0] ? this.schoolNameList[0].value : ''\n        return value\n      }\n    },\n    mounted () {\n      // console.log(this.userInfo)\n    },\n    methods: {\n      ...mapActions(['SetSelectSchool']),\n      schoolChange (value, option) {\n        let selectValue = {}\n        for (let i = 0; i < this.schoolNameList.length; i++) {\n          if (this.schoolNameList[i].value === value) { selectValue = this.schoolNameList[i] }\n        }\n        this.SetSelectSchool(selectValue)\n      },\n      handleLogout (e) {\n        Modal.confirm({\n          title: '确定要退出登录吗',\n          // content: this.$t('layouts.usermenu.dialog.content'),\n          onOk: () => {\n            // return new Promise((resolve, reject) => {\n            //   setTimeout(Math.random() > 0.5 ? resolve : reject, 1500)\n            // }).catch(() => console.log('Oops errors!'))\n            return this.$store.dispatch('Logout').then(() => {\n\n            }).catch().finally(() => {\n              setTimeout(() => {\n                this.$router.push({ name: 'studentLogin' })\n              }, 10)\n            })\n          },\n          onCancel () {}\n        })\n      }\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n  .studentHeader{\n    position: fixed;\n    top:0;\n    left:0;\n    width:100%;\n    height:50px;\n    z-index: 10;\n    background: #fff;\n    border-bottom: 1px solid #f5f5f5;\n  }\n  </style>\n"],"sourceRoot":"src/components/GlobalHeader"}]}